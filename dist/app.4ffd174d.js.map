{"version":3,"sources":["app.js"],"names":["duration","remaining","timeout","sound","document","querySelector","volumeControl","durationBtns","querySelectorAll","soundBtns","timeDisplay","playPauseBtn","playPauseImg","togglePlayPause","paused","play","src","updateTime","clearTimeout","pause","displayTime","setTimeout","resetTime","time","seconds","Math","floor","minutes","textContent","addEventListener","volume","value","currentTime","forEach","btn","dataset"],"mappings":";AAAA,IAOIA,EAAUC,EAAWC,EAPnBC,EAAQC,SAASC,cAAc,UAC/BC,EAAgBF,SAASC,cAAc,UACvCE,EAAeH,SAASI,iBAAiB,iBACzCC,EAAYL,SAASI,iBAAiB,cACtCE,EAAcN,SAASC,cAAc,iBACrCM,EAAeP,SAASC,cAAc,SACtCO,EAAeR,SAASC,cAAc,aAyC5C,SAASQ,IACHV,EAAMW,QACRX,EAAMY,OACNH,EAAaI,IAAM,kBACnBC,MAEAC,aAAahB,GACbC,EAAMgB,QACNP,EAAaI,IAAM,kBAIvB,SAASC,IAGPG,EAFAnB,GAAwB,GAIpBA,EAAY,EACdC,EAAUmB,WAAWJ,EAAY,KAEjCK,IAIJ,SAASF,EAAYG,GACfC,IAAAA,EAAUC,KAAKC,MAAMH,EAAO,IAC5BI,EAAUF,KAAKC,MAAMH,EAAO,IAChCb,EAAYkB,YAAiBD,GAAAA,OAAAA,EAAU,GAAK,IAAMA,EAAUA,EAC1DH,KAAAA,OAAAA,EAAU,GAAK,IAAMA,EAAUA,GAInC,SAASF,IACPJ,aAAahB,GACbC,EAAMgB,QACNP,EAAaI,IAAM,iBACnBf,EAAYD,EA1EdW,EAAakB,iBAAiB,QAAShB,GAEvCT,SAASyB,iBAAiB,mBAAoB,WAC5C1B,EAAMa,IAAM,4BACZJ,EAAaI,IAAM,iBACnBb,EAAM2B,OAASxB,EAAcyB,MAAQ,IAErC9B,EADAD,EAAW,IAIbG,EAAM0B,iBAAiB,aAAc,WAE/B1B,EAAM6B,YAAc7B,EAAMH,SADjB,MAEXG,EAAM6B,YAAc,EACpB7B,EAAMY,UAIVN,EAAUwB,QAAQ,SAACC,GACjBA,OAAAA,EAAIL,iBAAiB,QAAS,WAC5BP,IACAnB,EAAMa,IAAM,KAAKmB,QAAQhC,MACzBU,QAIJN,EAAa0B,QAAQ,SAACC,GACpBA,OAAAA,EAAIL,iBAAiB,QAAS,WAC5B7B,EAA+B,GAApB,KAAKmC,QAAQZ,KACxBD,IACAF,EAAYpB,OAIhBM,EAAcuB,iBAAiB,QAAS,WACtC1B,EAAM2B,OAASxB,EAAcyB,MAAQ","file":"app.4ffd174d.js","sourceRoot":"..\\src","sourcesContent":["const sound = document.querySelector(\".sound\");\r\nconst volumeControl = document.querySelector(\".range\");\r\nconst durationBtns = document.querySelectorAll(\".btn-duration\");\r\nconst soundBtns = document.querySelectorAll(\".btn-sound\");\r\nconst timeDisplay = document.querySelector(\".time-display\");\r\nconst playPauseBtn = document.querySelector(\".play\");\r\nconst playPauseImg = document.querySelector(\".play-img\");\r\nlet duration, remaining, timeout;\r\n\r\nplayPauseBtn.addEventListener(\"click\", togglePlayPause);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function setDefault() {\r\n  sound.src = \"./sounds/classic-crop.mp3\";\r\n  playPauseImg.src = \"./svg/play.svg\";\r\n  sound.volume = volumeControl.value / 400;\r\n  duration = 5;\r\n  remaining = duration;\r\n});\r\n\r\nsound.addEventListener(\"timeupdate\", function playInLoop() {\r\n  var buffer = 0.44;\r\n  if (sound.currentTime > sound.duration - buffer) {\r\n    sound.currentTime = 0;\r\n    sound.play();\r\n  }\r\n});\r\n\r\nsoundBtns.forEach((btn) =>\r\n  btn.addEventListener(\"click\", function selectSoundAndPlay() {\r\n    resetTime();\r\n    sound.src = this.dataset.sound;\r\n    togglePlayPause();\r\n  })\r\n);\r\n\r\ndurationBtns.forEach((btn) =>\r\n  btn.addEventListener(\"click\", function () {\r\n    duration = this.dataset.time * 60;\r\n    resetTime();\r\n    displayTime(duration);\r\n  })\r\n);\r\n\r\nvolumeControl.addEventListener(\"input\", function () {\r\n  sound.volume = volumeControl.value / 400;\r\n});\r\n\r\nfunction togglePlayPause() {\r\n  if (sound.paused) {\r\n    sound.play();\r\n    playPauseImg.src = \"./svg/pause.svg\";\r\n    updateTime();\r\n  } else {\r\n    clearTimeout(timeout);\r\n    sound.pause();\r\n    playPauseImg.src = \"./svg/play.svg\";\r\n  }\r\n}\r\n\r\nfunction updateTime() {\r\n  remaining = remaining - 1;\r\n\r\n  displayTime(remaining);\r\n\r\n  if (remaining > 0) {\r\n    timeout = setTimeout(updateTime, 1000);\r\n  } else {\r\n    resetTime();\r\n  }\r\n}\r\n\r\nfunction displayTime(time) {\r\n  let seconds = Math.floor(time % 60);\r\n  let minutes = Math.floor(time / 60);\r\n  timeDisplay.textContent = `${minutes < 10 ? \"0\" + minutes : minutes}:${\r\n    seconds < 10 ? \"0\" + seconds : seconds\r\n  }`;\r\n}\r\n\r\nfunction resetTime() {\r\n  clearTimeout(timeout);\r\n  sound.pause();\r\n  playPauseImg.src = \"./svg/play.svg\";\r\n  remaining = duration;\r\n}\r\n"]}